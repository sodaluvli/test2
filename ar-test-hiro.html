<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>AR: –¢–µ—Å—Ç —Å Hiro –º–∞—Ä–∫–µ—Ä–æ–º</title>
    
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/3.4.3/aframe/build/aframe-ar.js"></script>
    
    <style>
        body { margin: 0; overflow: hidden; font-family: Arial, sans-serif; }
        
        .info {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.85);
            color: white;
            padding: 20px;
            border-radius: 15px;
            z-index: 1000;
            text-align: center;
            max-width: 90%;
        }
        
        .info h2 { margin: 0 0 10px 0; font-size: 1.3rem; }
        .info p { margin: 5px 0; font-size: 0.9rem; }
        
        .status {
            margin-top: 10px;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
        }
        
        .status.searching {
            background: rgba(255, 170, 0, 0.3);
            border: 2px solid #ffaa00;
        }
        
        .status.found {
            background: rgba(0, 200, 0, 0.3);
            border: 2px solid #00ff00;
        }
        
        .back {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            color: #8B1538;
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            z-index: 1000;
            font-weight: bold;
        }
        
        .instructions {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
            text-align: center;
            max-width: 90%;
            font-size: 0.85rem;
        }
        
        .instructions a {
            color: #4CAF50;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="info">
        <h2 id="title">üì± AR –¢–µ—Å—Ç</h2>
        <p id="text">–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ Hiro –º–∞—Ä–∫–µ—Ä</p>
        <div id="status" class="status searching">üîç –ü–æ–∏—Å–∫...</div>
    </div>
    
    <div class="instructions">
        <strong>–°–∫–∞—á–∞–π—Ç–µ Hiro –º–∞—Ä–∫–µ—Ä:</strong><br>
        <a href="https://raw.githubusercontent.com/AR-js-org/AR.js/master/data/images/hiro.png" target="_blank">
            –û—Ç–∫—Ä—ã—Ç—å –º–∞—Ä–∫–µ—Ä ‚Üí
        </a><br>
        <small>–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏–ª–∏ —Ä–∞—Å–ø–µ—á–∞—Ç–∞–π—Ç–µ</small>
    </div>
    
    <a href="gallery.html" class="back">–ù–∞–∑–∞–¥</a>

    <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º preset="hiro" - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∞—Ä–∫–µ—Ä -->
    <a-scene 
        embedded 
        arjs="sourceType: webcam; debugUIEnabled: false;"
        vr-mode-ui="enabled: false">
        
        <a-assets>
            <a-asset-item id="model" src="sample.glb"></a-asset-item>
        </a-assets>

        <!-- preset="hiro" - –ù–ï —Ç—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª–∞ .patt -->
        <a-marker preset="hiro" id="marker" emitevents="true">
            
            <!-- –¢–µ—Å—Ç–æ–≤—ã–π –∫—É–± -->
            <a-box 
                position="0 0.5 0" 
                color="#8B1538" 
                scale="0.5 0.5 0.5"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 3000">
            </a-box>
            
            <!-- 3D –º–æ–¥–µ–ª—å -->
            <a-entity 
                gltf-model="#model" 
                position="0 0 0" 
                scale="0.5 0.5 0.5">
            </a-entity>
            
            <!-- –ö–æ–ª—å—Ü–∞ -->
            <a-ring position="0 0 0" rotation="-90 0 0" radius-inner="1" radius-outer="1.3" color="#D4AF37" opacity="0.7"></a-ring>
            
            <!-- –¢–µ–∫—Å—Ç -->
            <a-text value="–¢–ï–°–¢ HIRO" position="0 2 0" align="center" color="white" width="4"></a-text>
            
            <!-- –°–≤–µ—Ç -->
            <a-light type="point" intensity="2" position="0 2 0"></a-light>
            <a-light type="ambient" intensity="1"></a-light>
            
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <script>
        const marker = document.getElementById('marker');
        const title = document.getElementById('title');
        const text = document.getElementById('text');
        const status = document.getElementById('status');
        
        if (marker) {
            marker.addEventListener('markerFound', () => {
                console.log('‚úÖ HIRO –º–∞—Ä–∫–µ—Ä –Ω–∞–π–¥–µ–Ω!');
                title.textContent = '‚úÖ –ú–∞—Ä–∫–µ—Ä –Ω–∞–π–¥–µ–Ω!';
                text.textContent = 'AR —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ';
                status.textContent = '‚úÖ –ê–∫—Ç–∏–≤–µ–Ω';
                status.className = 'status found';
                if ('vibrate' in navigator) navigator.vibrate(200);
            });
            
            marker.addEventListener('markerLost', () => {
                console.log('–ú–∞—Ä–∫–µ—Ä –ø–æ—Ç–µ—Ä—è–Ω');
                title.textContent = 'üì± AR –¢–µ—Å—Ç';
                text.textContent = '–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ Hiro –º–∞—Ä–∫–µ—Ä';
                status.textContent = 'üîç –ü–æ–∏—Å–∫...';
                status.className = 'status searching';
            });
        }
    </script>
</body>
</html>
